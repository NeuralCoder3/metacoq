<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
</div>

<div class="doc">
 
<div class="paragraph"> </div>

<a id="lab6"></a><h1 class="section">param_exists: ∃∃ translation of inductive types</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">utils</span> <span class="id" title="library">All</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Translations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Translations.translation_utils.html#"><span class="id" title="library">translation_utils</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#"><span class="id" title="library">param_unary</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Pretty</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Infix</span> "&lt;=" := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="default_term" class="idref" href="#default_term"><span class="id" title="definition">default_term</span></a> := <span class="id" title="constructor">tVar</span> "constant_not_found".<br/>
<span class="id" title="keyword">Definition</span> <a id="debug_term" class="idref" href="#debug_term"><span class="id" title="definition">debug_term</span></a> <a id="msg:1" class="idref" href="#msg:1"><span class="id" title="binder">msg</span></a>:= <span class="id" title="constructor">tVar</span> ("debug: " <span class="id" title="notation">^</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#msg:1"><span class="id" title="variable">msg</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="tsl_ident_exists" class="idref" href="#tsl_ident_exists"><span class="id" title="definition">tsl_ident_exists</span></a> <a id="id:2" class="idref" href="#id:2"><span class="id" title="binder">id</span></a> := <a class="idref" href="MetaCoq.Translations.param_exists.html#id:2"><span class="id" title="variable">id</span></a><span class="id" title="notation">^</span>"ᴱ".<br/>
<span class="id" title="keyword">Definition</span> <a id="tsl_ident" class="idref" href="#tsl_ident"><span class="id" title="definition">tsl_ident</span></a> := <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident_exists"><span class="id" title="definition">tsl_ident_exists</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="applyEnv" class="idref" href="#applyEnv"><span class="id" title="definition">applyEnv</span></a> := <a class="idref" href="MetaCoq.Translations.param_unary.html#tsl_rec0_2"><span class="id" title="definition">tsl_rec0_2</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Checker</span>.<br/>
</div>

<div class="doc">
Checker for eq_term  checker is already required for translation utils 
</div>
<div class="code">
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">config.default_checker_flags</span>.<br/>

<br/>
</div>

<div class="doc">
simpler version of parametricity translation
transforms a type parameter into a unary predicate
 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="augment" class="idref" href="#augment"><span class="id" title="definition">augment</span></a> (<a id="t:3" class="idref" href="#t:3"><span class="id" title="binder">t</span></a>:<span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="inductive">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:3"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tSort</span> <span class="id" title="var">u</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">tLambda</span> <span class="id" title="constructor">nAnon</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:3"><span class="id" title="variable">t</span></a> (<span class="id" title="constructor">tProd</span> <span class="id" title="constructor">nAnon</span> (<span class="id" title="constructor">tRel</span> 0) <a class="idref" href="MetaCoq.Translations.param_exists.html#t:3"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tProd</span> <span class="id" title="var">na</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#augment:4"><span class="id" title="definition">augment</span></a> <span class="id" title="var">t2</span> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="t2':6" class="idref" href="#t2':6"><span class="id" title="binder">t2'</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">tLambda</span> <span class="id" title="var">na</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:3"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">lift0</span> 1 (<span class="id" title="constructor">tProd</span> <span class="id" title="var">na</span> <span class="id" title="var">t1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#augment:4"><span class="id" title="definition">augment</span></a> <span class="id" title="var">t1</span> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="t1':7" class="idref" href="#t1':7"><span class="id" title="binder">t1'</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">tProd</span> <span class="id" title="var">na</span> (<span class="id" title="abbreviation">lift0</span> 1 <a class="idref" href="MetaCoq.Translations.param_exists.html#t1':7"><span class="id" title="variable">t1'</span></a>) (<a class="idref" href="MetaCoq.Translations.translation_utils.html#subst_app"><span class="id" title="definition">subst_app</span></a>(<span class="id" title="abbreviation">lift0</span> 1 <a class="idref" href="MetaCoq.Translations.param_exists.html#t2':6"><span class="id" title="variable">t2'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tApp</span> (<span class="id" title="constructor">tRel</span> 2) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tRel</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.translation_utils.html#subst_app"><span class="id" title="definition">subst_app</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t2':6"><span class="id" title="variable">t2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tApp</span> (<span class="id" title="constructor">tRel</span> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tRel</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]]</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_fst" class="idref" href="#on_fst"><span class="id" title="definition">on_fst</span></a> {<a id="X:8" class="idref" href="#X:8"><span class="id" title="binder">X</span></a> <a id="Y:9" class="idref" href="#Y:9"><span class="id" title="binder">Y</span></a> <a id="Z:10" class="idref" href="#Z:10"><span class="id" title="binder">Z</span></a>} (<a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#X:8"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#Z:10"><span class="id" title="variable">Z</span></a>) (<a id="p:12" class="idref" href="#p:12"><span class="id" title="binder">p</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#X:8"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#Y:9"><span class="id" title="variable">Y</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#p:12"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#f:11"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="name_map" class="idref" href="#name_map"><span class="id" title="definition">name_map</span></a> <a id="f:14" class="idref" href="#f:14"><span class="id" title="binder">f</span></a> (<a id="na:15" class="idref" href="#na:15"><span class="id" title="binder">na</span></a>:<span class="id" title="inductive">name</span>) := <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#na:15"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <span class="id" title="constructor">nNamed</span> <a id="id:16" class="idref" href="#id:16"><span class="id" title="binder">id</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="constructor">nNamed</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#f:14"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#id:16"><span class="id" title="variable">id</span></a>) <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="constructor">nAnon</span>.<br/>

<br/>
</div>

<div class="doc">
transforms a list of parameters and add new ones (the predicates) if possible 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="transformParams" class="idref" href="#transformParams"><span class="id" title="definition">transformParams</span></a> (<a id="env:17" class="idref" href="#env:17"><span class="id" title="binder">env</span></a>:<a class="idref" href="MetaCoq.Translations.param_unary.html#Env"><span class="id" title="definition">Env</span></a>) (<a id="params:18" class="idref" href="#params:18"><span class="id" title="binder">params</span></a>:<span class="id" title="definition">context</span>) : <span class="id" title="definition">context</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="MetaCoq.Translations.param_unary.html#Env"><span class="id" title="definition">Env</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#params:18"><span class="id" title="variable">params</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#env:17"><span class="id" title="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><span class="id" title="constructor">mkdecl</span> <span class="id" title="var">name</span> <span class="id" title="var">_</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">as</span> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)::</span></a><span class="id" title="var">xs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#on_fst"><span class="id" title="definition">on_fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> (<span class="id" title="definition">vass</span> <span class="id" title="var">name</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#applyEnv"><span class="id" title="definition">applyEnv</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#env:17"><span class="id" title="variable">env</span></a> <span class="id" title="keyword">type</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#augment"><span class="id" title="definition">augment</span></a> (<a class="idref" href="MetaCoq.Translations.param_exists.html#applyEnv"><span class="id" title="definition">applyEnv</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#env:17"><span class="id" title="variable">env</span></a> <span class="id" title="keyword">type</span>) <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="tL:21" class="idref" href="#tL:21"><span class="id" title="binder">tL</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':22" class="idref" href="#t':22"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Translations.translation_utils.html#subst_app"><span class="id" title="definition">subst_app</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tL:21"><span class="id" title="variable">tL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tRel</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#on_fst"><span class="id" title="definition">on_fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> (<span class="id" title="definition">vass</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#name_map"><span class="id" title="definition">name_map</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident"><span class="id" title="definition">tsl_ident</span></a> <span class="id" title="var">name</span>) (<a class="idref" href="MetaCoq.Translations.param_exists.html#t':22"><span class="id" title="variable">t'</span></a>))) (<a class="idref" href="MetaCoq.Translations.param_exists.html#transformParams:19"><span class="id" title="definition">transformParams</span></a> (<a class="idref" href="MetaCoq.Translations.param_unary.html#EnvLift0"><span class="id" title="definition">EnvLift0</span></a> (<a class="idref" href="MetaCoq.Translations.param_unary.html#EnvUp"><span class="id" title="definition">EnvUp</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#env:17"><span class="id" title="variable">env</span></a>) 1) <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#transformParams:19"><span class="id" title="definition">transformParams</span></a> (<a class="idref" href="MetaCoq.Translations.param_unary.html#EnvUp"><span class="id" title="definition">EnvUp</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#env:17"><span class="id" title="variable">env</span></a>) <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
auxiliary function to test parameter transform on ∀ terms 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="paramTermTrans" class="idref" href="#paramTermTrans"><span class="id" title="definition">paramTermTrans</span></a> (<a id="E:23" class="idref" href="#E:23"><span class="id" title="binder">E</span></a>:<a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_table"><span class="id" title="definition">tsl_table</span></a>) (<a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a>:<span class="id" title="inductive">term</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="ctx:25" class="idref" href="#ctx:25"><span class="id" title="binder">ctx</span></a>,<a id="tb:26" class="idref" href="#tb:26"><span class="id" title="binder">tb</span></a>) := <a class="idref" href="MetaCoq.Translations.param_unary.html#decompose_prod_context"><span class="id" title="definition">decompose_prod_context</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:24"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="ctx':28" class="idref" href="#ctx':28"><span class="id" title="binder">ctx'</span></a>,<a id="env:29" class="idref" href="#env:29"><span class="id" title="binder">env</span></a>) := <a class="idref" href="MetaCoq.Translations.param_exists.html#transformParams"><span class="id" title="definition">transformParams</span></a> (<span class="id" title="keyword">fun</span> <a id="n:27" class="idref" href="#n:27"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="MetaCoq.Translations.param_exists.html#n:27"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Translations.param_exists.html#ctx:25"><span class="id" title="variable">ctx</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">it_mkProd_or_LetIn</span> (<span class="id" title="definition">rev</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#ctx':28"><span class="id" title="variable">ctx'</span></a>) <a class="idref" href="MetaCoq.Translations.param_exists.html#tb:26"><span class="id" title="variable">tb</span></a>.<br/>

<br/>
</div>

<div class="doc">
auxiliary function to apply all parameters in correct order 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="makeRels" class="idref" href="#makeRels"><span class="id" title="definition">makeRels</span></a> (<a id="n:30" class="idref" href="#n:30"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#n:30"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span> =&gt; <span class="id" title="constructor">tRel</span> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#makeRels:31"><span class="id" title="definition">makeRels</span></a> <span class="id" title="var">m</span> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
removed n elements from the front, 
useful to delete parameter application
and only keep indices 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="cutList" class="idref" href="#cutList"><span class="id" title="definition">cutList</span></a> {<a id="X:33" class="idref" href="#X:33"><span class="id" title="binder">X</span></a>} <a id="n:34" class="idref" href="#n:34"><span class="id" title="binder">n</span></a> (<a id="xs:35" class="idref" href="#xs:35"><span class="id" title="binder">xs</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#X:33"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#n:34"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="MetaCoq.Translations.param_exists.html#xs:35"><span class="id" title="variable">xs</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> (<a class="idref" href="MetaCoq.Translations.param_exists.html#cutList:36"><span class="id" title="definition">cutList</span></a> <span class="id" title="var">m</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#xs:35"><span class="id" title="variable">xs</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
delete n application from a term 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="removeApps" class="idref" href="#removeApps"><span class="id" title="definition">removeApps</span></a> <a id="n:38" class="idref" href="#n:38"><span class="id" title="binder">n</span></a> <a id="t:39" class="idref" href="#t:39"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:39"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <span class="id" title="constructor">tApp</span> <a id="tb:41" class="idref" href="#tb:41"><span class="id" title="binder">tb</span></a> <a id="args:40" class="idref" href="#args:40"><span class="id" title="binder">args</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="definition">mkApps</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#tb:41"><span class="id" title="variable">tb</span></a> (<a class="idref" href="MetaCoq.Translations.param_exists.html#cutList"><span class="id" title="definition">cutList</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#n:38"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#args:40"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:39"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
∃ dual to ∀ construct used to simplify creation of ∃ x. Pₓ x 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="tExists" class="idref" href="#tExists"><span class="id" title="definition">tExists</span></a> <a id="na:42" class="idref" href="#na:42"><span class="id" title="binder">na</span></a> <a id="t1:43" class="idref" href="#t1:43"><span class="id" title="binder">t1</span></a> <a id="t2:44" class="idref" href="#t2:44"><span class="id" title="binder">t2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="constructor">tApp</span> (<span class="id" title="notation">&lt;%</span> @<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#sigT"><span class="id" title="inductive">sigT</span></a> <span class="id" title="notation">%&gt;</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#t1:43"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><span class="id" title="constructor">tLambda</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#na:42"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t1:43"><span class="id" title="variable">t1</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t2:44"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
transformation of a constructor argument 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="tsl_rec1'" class="idref" href="#tsl_rec1'"><span class="id" title="definition">tsl_rec1'</span></a> (<a id="E:45" class="idref" href="#E:45"><span class="id" title="binder">E</span></a> : <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_table"><span class="id" title="definition">tsl_table</span></a>) (<a id="oldParamCount:46" class="idref" href="#oldParamCount:46"><span class="id" title="binder">oldParamCount</span></a> <a id="argCount:47" class="idref" href="#argCount:47"><span class="id" title="binder">argCount</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="rec:48" class="idref" href="#rec:48"><span class="id" title="binder">rec</span></a>:<span class="id" title="inductive">term</span>) (<a id="recInd:49" class="idref" href="#recInd:49"><span class="id" title="binder">recInd</span></a>:<span class="id" title="record">inductive</span>) (<a id="t:50" class="idref" href="#t:50"><span class="id" title="binder">t</span></a> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="inductive">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="debug:54" class="idref" href="#debug:54"><span class="id" title="binder">debug</span></a> <a id="case:52" class="idref" href="#case:52"><span class="id" title="binder">case</span></a> <a id="symbol:53" class="idref" href="#symbol:53"><span class="id" title="binder">symbol</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#debug_term"><span class="id" title="definition">debug_term</span></a> ("tsl_rec1: " <span class="id" title="notation">^</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#case:52"><span class="id" title="variable">case</span></a> <span class="id" title="notation">^</span> " " <span class="id" title="notation">^</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#symbol:53"><span class="id" title="variable">symbol</span></a> <span class="id" title="notation">^</span> " not found") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:50"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tRel</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) =&gt; <br/>
&nbsp;&nbsp;</div>

<div class="doc">
X → Pₓ  all arguments with parameter type x:X are replaced by Pₓ  possible because the structure is `Inductive T (X:Type) (Pₓ:X→Type)` 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Arith.Compare_dec.html#leb"><span class="id" title="abbreviation">leb</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#argCount:47"><span class="id" title="variable">argCount</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">tRel</span> (<span class="id" title="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tInd</span> <span class="id" title="var">ind</span> <span class="id" title="var">inst</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
ind → ∃∃ind 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">eq_inductive</span> <span class="id" title="var">ind</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#recInd:49"><span class="id" title="variable">recInd</span></a> <span class="id" title="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
recursive type is replaced by recursive instance (parameters are handeled by tApp)  
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#rec:48"><span class="id" title="variable">rec</span></a> <span class="id" title="keyword">else</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Translations.translation_utils.html#lookup_tsl_table"><span class="id" title="definition">lookup_tsl_table</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E:45"><span class="id" title="variable">E</span></a> (<span class="id" title="constructor">IndRef</span> <span class="id" title="var">ind</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
otherwise lookup the inductive type (parameters are handeled by tApp) 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tApp</span> <span class="id" title="var">tb</span> <span class="id" title="var">args</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_rec1':51"><span class="id" title="definition">tsl_rec1'</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#oldParamCount:46"><span class="id" title="variable">oldParamCount</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#argCount:47"><span class="id" title="variable">argCount</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#rec:48"><span class="id" title="variable">rec</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#recInd:49"><span class="id" title="variable">recInd</span></a> <span class="id" title="var">tb</span> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="r:56" class="idref" href="#r:56"><span class="id" title="binder">r</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
translate body first =&gt; r 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">mkApps</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#r:56"><span class="id" title="variable">r</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="a:57" class="idref" href="#a:57"><span class="id" title="binder">a</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
for each argument add possible translation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_rec1':51"><span class="id" title="definition">tsl_rec1'</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#oldParamCount:46"><span class="id" title="variable">oldParamCount</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#argCount:47"><span class="id" title="variable">argCount</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#rec:48"><span class="id" title="variable">rec</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#recInd:49"><span class="id" title="variable">recInd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="ra:58" class="idref" href="#ra:58"><span class="id" title="binder">ra</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#a:57"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#ra:58"><span class="id" title="variable">ra</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> </div>

<div class="doc">
B A → B' A A' 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#a:57"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> </div>

<div class="doc">
B A → B' A 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="var">args</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tProd</span> <span class="id" title="var">na</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt; <br/>
&nbsp;&nbsp;</div>

<div class="doc">
∀ x:A. B → λ (f:∀x:A. B). ∃ x:A. B (f x) 
</div>
<div class="code">
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_rec1':51"><span class="id" title="definition">tsl_rec1'</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#oldParamCount:46"><span class="id" title="variable">oldParamCount</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#argCount:47"><span class="id" title="variable">argCount</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#rec:48"><span class="id" title="variable">rec</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#recInd:49"><span class="id" title="variable">recInd</span></a> <span class="id" title="var">t2</span> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="r:59" class="idref" href="#r:59"><span class="id" title="binder">r</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">tLambda</span> <span class="id" title="constructor">nAnon</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:50"><span class="id" title="variable">t</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#tExists"><span class="id" title="definition">tExists</span></a> <span class="id" title="var">na</span> (<span class="id" title="abbreviation">lift0</span> 1 <span class="id" title="var">t1</span>) </div>

<div class="doc">
universe problems 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.translation_utils.html#subst_app"><span class="id" title="definition">subst_app</span></a> (<span class="id" title="abbreviation">lift0</span> 1 <a class="idref" href="MetaCoq.Translations.param_exists.html#r:59"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tApp</span> (<span class="id" title="constructor">tRel</span> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tRel</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]]</span></a><br/>
      )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;))<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
general function to fill in redundant information 
<div class="paragraph"> </div>

 translates a mutual inductive definition  the translation is constructed in proof mode 
to follow the structure, keep track of types,
avoid deep nesting and delay application arguments

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="tsl_mind_body" class="idref" href="#tsl_mind_body"><span class="id" title="definition">tsl_mind_body</span></a> (<a id="prune:60" class="idref" href="#prune:60"><span class="id" title="binder">prune</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="E:61" class="idref" href="#E:61"><span class="id" title="binder">E</span></a> : <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_table"><span class="id" title="definition">tsl_table</span></a>) (<a id="mp:62" class="idref" href="#mp:62"><span class="id" title="binder">mp</span></a> : <span class="id" title="inductive">modpath</span>) (<a id="kn:63" class="idref" href="#kn:63"><span class="id" title="binder">kn</span></a> : <span class="id" title="definition">kername</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mind:64" class="idref" href="#mind:64"><span class="id" title="binder">mind</span></a> : <span class="id" title="record">mutual_inductive_body</span>) : <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_table"><span class="id" title="definition">tsl_table</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="record">mutual_inductive_body</span>.<br/>
</div>

<div class="doc">
computes the new parameters  the unquoting does not care about the parameters but only about the length
  of ind_params  for a pure unary parametricity translation even
  mind.(ind_params) ++ mind.(ind_params) workds  the universe of the inductive and the variance are not changed by the translation 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">paramlist_env</span> := <a class="idref" href="MetaCoq.Translations.param_exists.html#on_fst"><span class="id" title="definition">on_fst</span></a> <span class="id" title="definition">rev</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#transformParams"><span class="id" title="definition">transformParams</span></a> (<span class="id" title="keyword">fun</span> <a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="MetaCoq.Translations.param_exists.html#n:65"><span class="id" title="variable">n</span></a>) (<span class="id" title="definition">rev</span> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_params</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">paramlist_env</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">paramlist</span> <span class="id" title="var">env</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <span class="id" title="projection">ind_npars</span> := <span class="id" title="notation">#|</span><span class="id" title="var">paramlist</span><span class="id" title="notation">|</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_params</span> := <span class="id" title="var">paramlist</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_bodies</span> := <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_finite</span> := <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_finite</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_universes</span> := <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_universes</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_variance</span> := <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_variance</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- </div>

<div class="doc">
new translations for the one_inductive_bodies in the 
     mutual inductive definition 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="kn':71" class="idref" href="#kn':71"><span class="id" title="binder">kn'</span></a> : <span class="id" title="definition">kername</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">mp</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident"><span class="id" title="definition">tsl_ident</span></a> <span class="id" title="var">kn</span><span class="id" title="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fold_left_i</span> (<span class="id" title="keyword">fun</span> <a id="E:72" class="idref" href="#E:72"><span class="id" title="binder">E</span></a> <a id="i:73" class="idref" href="#i:73"><span class="id" title="binder">i</span></a> <a id="ind:74" class="idref" href="#ind:74"><span class="id" title="binder">ind</span></a> =&gt; <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E:68"><span class="id" title="variable">E</span></a>) <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_bodies</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
</div>

<div class="doc">
for each one_inductive ind with index i, add new table 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;+ </div>

<div class="doc">
translation reference of inductive  the new type kn' does not exists yet, but will in future translations 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="constructor">IndRef</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> <span class="id" title="var">i</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="constructor">tInd</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn'</span> <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ </div>

<div class="doc">
translation references of ctors of ind  create reference for each constructor k 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">fold_left_i</span> (<span class="id" title="keyword">fun</span> <a id="E:77" class="idref" href="#E:77"><span class="id" title="binder">E</span></a> <a id="k:78" class="idref" href="#k:78"><span class="id" title="binder">k</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E:75"><span class="id" title="variable">E</span></a>) <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_ctors</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="constructor">ConstructRef</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> <span class="id" title="var">i</span>) <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="constructor">tConstruct</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn'</span> <span class="id" title="var">i</span>) <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- </div>

<div class="doc">
translate the one_inductive_bodys individually 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">mapi</span> <span class="id" title="var">_</span> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_bodies</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">ind</span>. </div>

<div class="doc">
number of inductive body and body 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> {| <span class="id" title="projection">ind_name</span> := <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident"><span class="id" title="definition">tsl_ident</span></a> <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_name</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_type</span> := <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_kelim</span> := <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_kelim</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_ctors</span> := <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_projs</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> |}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ </div>

<div class="doc">
translate the type (with parameters) of the inductive body 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="ctx:81" class="idref" href="#ctx:81"><span class="id" title="binder">ctx</span></a>,<a id="tb:82" class="idref" href="#tb:82"><span class="id" title="binder">tb</span></a>) := <a class="idref" href="MetaCoq.Translations.param_unary.html#decompose_prod_context"><span class="id" title="definition">decompose_prod_context</span></a> (<span class="id" title="definition">remove_arity</span> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_npars</span>) <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_type</span>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">it_mkProd_or_LetIn</span> <span class="id" title="var">paramlist</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">it_mkProd_or_LetIn</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#ctx:79"><span class="id" title="variable">ctx</span></a> </div>

<div class="doc">
indices 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">tProd</span> <span class="id" title="constructor">nAnon</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">mkApps</span> (<span class="id" title="abbreviation">lift0</span> <span class="id" title="notation">#|</span><a class="idref" href="MetaCoq.Translations.param_exists.html#ctx:79"><span class="id" title="variable">ctx</span></a><span class="id" title="notation">|</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#applyEnv"><span class="id" title="definition">applyEnv</span></a> <span class="id" title="var">env</span> (<span class="id" title="constructor">tApp</span> (<span class="id" title="constructor">tInd</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="MetaCoq.Translations.param_exists.html#makeRels"><span class="id" title="definition">makeRels</span></a> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_npars</span>))))) (<a class="idref" href="MetaCoq.Translations.param_exists.html#makeRels"><span class="id" title="definition">makeRels</span></a> <span class="id" title="notation">#|</span><a class="idref" href="MetaCoq.Translations.param_exists.html#ctx:79"><span class="id" title="variable">ctx</span></a><span class="id" title="notation">|</span>)) </div>

<div class="doc">
old type with params 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">lift0</span> 1 <a class="idref" href="MetaCoq.Translations.param_exists.html#tb:80"><span class="id" title="variable">tb</span></a>))) </div>

<div class="doc">
later tProd element 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ </div>

<div class="doc">
constructors  definition as function for better control flow overview 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span>(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">mapi</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="k:104" class="idref" href="#k:104"><span class="id" title="binder">k</span></a> <a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">'((</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">name</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">,</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">typ</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">,</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">nargs</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">))</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="typInd:113" class="idref" href="#typInd:113"><span class="id" title="binder">typInd</span></a> :=  </div>

<div class="doc">
fillin inductives for recursion 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">fold_left_i</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="t0:110" class="idref" href="#t0:110"><span class="id" title="binder">t0</span></a> <a id="i:111" class="idref" href="#i:111"><span class="id" title="binder">i</span></a> <a id="u:112" class="idref" href="#u:112"><span class="id" title="binder">u</span></a>  =&gt; <a class="idref" href="MetaCoq.Translations.param_exists.html#t0:89"><span class="id" title="variable">t0</span></a> <span class="id" title="notation">{</span><a class="idref" href="MetaCoq.Translations.param_exists.html#i:90"><span class="id" title="variable">i</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#u:91"><span class="id" title="variable">u</span></a><span class="id" title="notation">}</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">rev</span> (<span class="id" title="definition">mapi</span> (<span class="id" title="keyword">fun</span> <a id="i:109" class="idref" href="#i:109"><span class="id" title="binder">i</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="constructor">tInd</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#i:88"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_bodies</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#typ:85"><span class="id" title="variable">typ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="typ':114" class="idref" href="#typ':114"><span class="id" title="binder">typ'</span></a> := <span class="id" title="definition">remove_arity</span> (<span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_npars</span>)) <a class="idref" href="MetaCoq.Translations.param_exists.html#typInd:92"><span class="id" title="variable">typInd</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="args:115" class="idref" href="#args:115"><span class="id" title="binder">args</span></a>,<a id="tb:116" class="idref" href="#tb:116"><span class="id" title="binder">tb</span></a>) := <a class="idref" href="MetaCoq.Translations.param_unary.html#decompose_prod_context"><span class="id" title="definition">decompose_prod_context</span></a> (<a class="idref" href="MetaCoq.Translations.param_exists.html#applyEnv"><span class="id" title="definition">applyEnv</span></a> <span class="id" title="var">env</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#typ':93"><span class="id" title="variable">typ'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inst:117" class="idref" href="#inst:117"><span class="id" title="binder">inst</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">mkApps</span> (<span class="id" title="abbreviation">lift0</span> <span class="id" title="notation">#|</span><a class="idref" href="MetaCoq.Translations.param_exists.html#args:94"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#applyEnv"><span class="id" title="definition">applyEnv</span></a> <span class="id" title="var">env</span> (<span class="id" title="constructor">tApp</span> (<span class="id" title="constructor">tConstruct</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> <span class="id" title="var">i</span>) <a class="idref" href="MetaCoq.Translations.param_exists.html#k:83"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="MetaCoq.Translations.param_exists.html#makeRels"><span class="id" title="definition">makeRels</span></a> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_npars</span>))))) (<a class="idref" href="MetaCoq.Translations.param_exists.html#makeRels"><span class="id" title="definition">makeRels</span></a> <span class="id" title="notation">#|</span><a class="idref" href="MetaCoq.Translations.param_exists.html#args:94"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
apply new params =&gt; remove old app add new 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="recInst:118" class="idref" href="#recInst:118"><span class="id" title="binder">recInst</span></a> := <span class="id" title="constructor">tRel</span> (<span class="id" title="notation">#|</span><span class="id" title="var">paramlist</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="notation">#|</span><a class="idref" href="MetaCoq.Translations.param_exists.html#args:94"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tbNewParams:119" class="idref" href="#tbNewParams:119"><span class="id" title="binder">tbNewParams</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">mkApps</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#recInst:97"><span class="id" title="variable">recInst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="abbreviation">lift0</span> <span class="id" title="notation">#|</span><a class="idref" href="MetaCoq.Translations.param_exists.html#args:94"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span>) (<a class="idref" href="MetaCoq.Translations.param_exists.html#makeRels"><span class="id" title="definition">makeRels</span></a> <span class="id" title="notation">#|</span><span class="id" title="var">paramlist</span><span class="id" title="notation">|</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tbNewIndApp:122" class="idref" href="#tbNewIndApp:122"><span class="id" title="binder">tbNewIndApp</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tb:95"><span class="id" title="variable">tb</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><span class="id" title="constructor">tApp</span> <a id="tI:121" class="idref" href="#tI:121"><span class="id" title="binder">tI</span></a> <a id="appargs:120" class="idref" href="#appargs:120"><span class="id" title="binder">appargs</span></a><a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
tI was replace by ind filling 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">mkApps</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#tbNewParams:98"><span class="id" title="variable">tbNewParams</span></a> (<a class="idref" href="MetaCoq.Translations.param_exists.html#cutList"><span class="id" title="definition">cutList</span></a> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_npars</span>) <a class="idref" href="MetaCoq.Translations.param_exists.html#appargs:99"><span class="id" title="variable">appargs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#recInst:97"><span class="id" title="variable">recInst</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tb':123" class="idref" href="#tb':123"><span class="id" title="binder">tb'</span></a> := <span class="id" title="definition">mkApp</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#tbNewIndApp:101"><span class="id" title="variable">tbNewIndApp</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#inst:96"><span class="id" title="variable">inst</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="na:124" class="idref" href="#na:124"><span class="id" title="binder">na</span></a> := <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident"><span class="id" title="definition">tsl_ident</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#name:86"><span class="id" title="variable">name</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_ctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span>(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">rev</span>(<span class="id" title="definition">fold_left_i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="acc:133" class="idref" href="#acc:133"><span class="id" title="binder">acc</span></a> <a id="j:134" class="idref" href="#j:134"><span class="id" title="binder">j</span></a> <a id="arg:135" class="idref" href="#arg:135"><span class="id" title="binder">arg</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
rec is already replaced 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="rec:136" class="idref" href="#rec:136"><span class="id" title="binder">rec</span></a> := <span class="id" title="var">recInst</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
augment argument 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="augArgO:137" class="idref" href="#augArgO:137"><span class="id" title="binder">augArgO</span></a> := <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_rec1'"><span class="id" title="definition">tsl_rec1'</span></a> <span class="id" title="var">E</span> <span class="id" title="var">mind</span>.(<span class="id" title="projection">ind_npars</span>) <span class="id" title="notation">#|</span><span class="id" title="var">args</span><span class="id" title="notation">|</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#rec:128"><span class="id" title="variable">rec</span></a> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> <span class="id" title="var">i</span>) (<span class="id" title="abbreviation">lift0</span> (<span class="id" title="notation">#|</span><span class="id" title="var">args</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#j:126"><span class="id" title="variable">j</span></a>) (<span class="id" title="projection">decl_type</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#arg:127"><span class="id" title="variable">arg</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#augArgO:129"><span class="id" title="variable">augArgO</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a id="augArgP:138" class="idref" href="#augArgP:138"><span class="id" title="binder">augArgP</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
apply with argument 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="augArg:139" class="idref" href="#augArg:139"><span class="id" title="binder">augArg</span></a> := <a class="idref" href="MetaCoq.Translations.translation_utils.html#subst_app"><span class="id" title="definition">subst_app</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#augArgP:130"><span class="id" title="variable">augArgP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">tRel</span> (<span class="id" title="notation">#|</span><span class="id" title="var">args</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#j:126"><span class="id" title="variable">j</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <a id="ctor_type:140" class="idref" href="#ctor_type:140"><span class="id" title="binder">ctor_type</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">it_mkProd_or_LetIn</span> <span class="id" title="var">paramlist</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">it_mkProd_or_LetIn</span> (<span class="id" title="definition">rev</span> <span class="id" title="var">args</span>) (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">tProd</span> <span class="id" title="constructor">nAnon</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#augArg:131"><span class="id" title="variable">augArg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">lift0</span> 1 <span class="id" title="var">tb'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
name constructor 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">na</span><span class="id" title="notation">^(</span><span class="id" title="definition">string_of_nat</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#j:126"><span class="id" title="variable">j</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#ctor_type:132"><span class="id" title="variable">ctor_type</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">#|</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Translations.param_unary.html#decompose_prod_context"><span class="id" title="definition">decompose_prod_context</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#ctor_type:132"><span class="id" title="variable">ctor_type</span></a>)<span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="notation">#|</span><span class="id" title="var">paramlist</span><span class="id" title="notation">|</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#acc:125"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#acc:125"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="var">args</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
removed the modpath in front of the identifier 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="tsl_ident'" class="idref" href="#tsl_ident'"><span class="id" title="definition">tsl_ident'</span></a> <a id="id:141" class="idref" href="#id:141"><span class="id" title="binder">id</span></a> := <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident"><span class="id" title="definition">tsl_ident</span></a>(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>(<a class="idref" href="MetaCoq.Translations.param_unary.html#lastPart"><span class="id" title="definition">lastPart</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#id:141"><span class="id" title="variable">id</span></a>)).<br/>

<br/>
</div>

<div class="doc">
registeres the exists parametricity translations as translation instance 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a id="existparam" class="idref" href="#existparam"><span class="id" title="instance">existparam</span></a> : <a class="idref" href="MetaCoq.Translations.translation_utils.html#Translation"><span class="id" title="class">Translation</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_id"><span class="id" title="method">tsl_id</span></a> := <a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_ident'"><span class="id" title="definition">tsl_ident'</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_tm"><span class="id" title="method">tsl_tm</span></a> := <span class="id" title="keyword">fun</span> <a id="a1a62598ce9d392a674bf4c71a9cfbe7" class="idref" href="#a1a62598ce9d392a674bf4c71a9cfbe7"><span class="id" title="binder">ΣE</span></a> <a id="t:147" class="idref" href="#t:147"><span class="id" title="binder">t</span></a> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#paramTermTrans"><span class="id" title="definition">paramTermTrans</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#a1a62598ce9d392a674bf4c71a9cfbe7"><span class="id" title="variable">ΣE</span></a>) <a class="idref" href="MetaCoq.Translations.param_exists.html#t:147"><span class="id" title="variable">t</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Implement and Implement Existing cannot be used with this translation 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_ty"><span class="id" title="method">tsl_ty</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_ind"><span class="id" title="method">tsl_ind</span></a> := <span class="id" title="keyword">fun</span> <a id="ea2bb56525a50c6504feeb076e2097a2" class="idref" href="#ea2bb56525a50c6504feeb076e2097a2"><span class="id" title="binder">ΣE</span></a> <a id="mp:143" class="idref" href="#mp:143"><span class="id" title="binder">mp</span></a> <a id="kn:144" class="idref" href="#kn:144"><span class="id" title="binder">kn</span></a> <a id="mind:145" class="idref" href="#mind:145"><span class="id" title="binder">mind</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="MetaCoq.Translations.param_exists.html#tsl_mind_body"><span class="id" title="definition">tsl_mind_body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#ea2bb56525a50c6504feeb076e2097a2"><span class="id" title="variable">ΣE</span></a>) <a class="idref" href="MetaCoq.Translations.param_exists.html#mp:143"><span class="id" title="variable">mp</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#kn:144"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#mind:145"><span class="id" title="variable">mind</span></a>) |}.<br/>

<br/>
</div>

<div class="doc">
code similar to param_unary =&gt; TODO: unify both code snippets 
<div class="paragraph"> </div>

 stores translation of definitions  global context is not important =&gt; always use empty_ext <font size=-2>&#9744;</font>  better would be the translated global_reference but 
  this is not accessible from the outside 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="existtranslated" class="idref" href="#existtranslated"><span class="id" title="record">existtranslated</span></a> (<a id="ref:148" class="idref" href="#ref:148"><span class="id" title="binder">ref</span></a>:<span class="id" title="inductive">global_reference</span>) := <br/>
{<br/>
&nbsp;&nbsp;</div>

<div class="doc">
content : term   would be enough for constant 
</div>
<div class="code">
&nbsp;&nbsp;<a id="content" class="idref" href="#content"><span class="id" title="projection">content</span></a> : <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_table"><span class="id" title="definition">tsl_table</span></a> </div>

<div class="doc">
needed for inductive translations  for constants this degenerates to <span class="inlinecode">(<span class="id" title="var">ref</span>,<span class="id" title="var">contentTerm</span>)</span> 
</div>
<div class="code">
}.<br/>

<br/>
</div>

<div class="doc">
lookup a global reference in the translation database and add its
  translation table to the context 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="checkTranslation" class="idref" href="#checkTranslation"><span class="id" title="definition">checkTranslation</span></a> (<a id="d3d524155e5074ad2f74f150f3e86f37" class="idref" href="#d3d524155e5074ad2f74f150f3e86f37"><span class="id" title="binder">ΣE</span></a>:<a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_context"><span class="id" title="definition">tsl_context</span></a>) (<a id="ref:152" class="idref" href="#ref:152"><span class="id" title="binder">ref</span></a>:<span class="id" title="inductive">global_reference</span>) : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_context"><span class="id" title="definition">tsl_context</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.translation_utils.html#lookup_tsl_table"><span class="id" title="definition">lookup_tsl_table</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#d3d524155e5074ad2f74f150f3e86f37"><span class="id" title="variable">ΣE</span></a>) <a class="idref" href="MetaCoq.Translations.param_exists.html#ref:152"><span class="id" title="variable">ref</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#d3d524155e5074ad2f74f150f3e86f37"><span class="id" title="variable">ΣE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
lookup if a translation exists 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="opt:153" class="idref" href="#opt:153"><span class="id" title="binder">opt</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmInferInstance</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="MetaCoq.Translations.param_exists.html#existtranslated"><span class="id" title="class">existtranslated</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#ref:152"><span class="id" title="variable">ref</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#opt:153"><span class="id" title="variable">opt</span></a> <span class="id" title="keyword">with</span> </div>

<div class="doc">
match over custom option type for inference results 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">my_Some</span> <span class="id" title="var">x</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="7b5fd735983ac7bb8c83d234700e287f" class="idref" href="#7b5fd735983ac7bb8c83d234700e287f"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#d3d524155e5074ad2f74f150f3e86f37"><span class="id" title="variable">ΣE</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="E':156" class="idref" href="#E':156"><span class="id" title="binder">E'</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaCoq.Translations.param_exists.html#content"><span class="id" title="method">content</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#d3d524155e5074ad2f74f150f3e86f37"><span class="id" title="variable">ΣE</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="320c72a26d77af6ffbeac64473589e89" class="idref" href="#320c72a26d77af6ffbeac64473589e89"><span class="id" title="binder">Σ'</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmEval</span> <span class="id" title="constructor">lazy</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#7b5fd735983ac7bb8c83d234700e287f"><span class="id" title="variable">Σ'</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="E':158" class="idref" href="#E':158"><span class="id" title="binder">E'</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmEval</span> <span class="id" title="constructor">lazy</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#E':156"><span class="id" title="variable">E'</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Translations.param_exists.html#320c72a26d77af6ffbeac64473589e89"><span class="id" title="variable">Σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#E':158"><span class="id" title="variable">E'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">my_None</span> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#d3d524155e5074ad2f74f150f3e86f37"><span class="id" title="variable">ΣE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
quotes the environment and adds translations of declarations 
  from it to the context  for additional creation of missing translations,
use TranslateRec with constructed table as seed 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="ConstructExistsTable" class="idref" href="#ConstructExistsTable"><span class="id" title="definition">ConstructExistsTable</span></a> {<a id="A:159" class="idref" href="#A:159"><span class="id" title="binder">A</span></a>} (<a id="t:160" class="idref" href="#t:160"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:159"><span class="id" title="variable">A</span></a>) : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_context"><span class="id" title="definition">tsl_context</span></a> :=<br/>
&nbsp;&nbsp;<a id="p:161" class="idref" href="#p:161"><span class="id" title="binder">p</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">tmQuoteRec</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:160"><span class="id" title="variable">t</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmPrint</span> "~~~~~~~~~~~~~~~~~~" <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">monad_fold_right</span> (<span class="id" title="keyword">fun</span> <a id="b72234d38ef7682c70ba82b09cbc4968" class="idref" href="#b72234d38ef7682c70ba82b09cbc4968"><span class="id" title="binder">ΣE</span></a> <a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">'(</span></a><a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">kn</span></a><a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">,</span></a> <a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">decl</span></a><a id="pat:165" class="idref" href="#pat:165"><span class="id" title="binder">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">print_nf</span> ("Looking up " <span class="id" title="notation">^</span> <span class="id" title="definition">string_of_kername</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#kn:164"><span class="id" title="variable">kn</span></a>) <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#decl:163"><span class="id" title="variable">decl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">ConstantDecl</span> <span class="id" title="var">decl</span> =&gt; <a class="idref" href="MetaCoq.Translations.param_exists.html#checkTranslation"><span class="id" title="definition">checkTranslation</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#b72234d38ef7682c70ba82b09cbc4968"><span class="id" title="variable">ΣE</span></a> (<span class="id" title="constructor">ConstRef</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#kn:164"><span class="id" title="variable">kn</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">InductiveDecl</span> <span class="id" title="var">d</span> =&gt; <a class="idref" href="MetaCoq.Translations.param_exists.html#checkTranslation"><span class="id" title="definition">checkTranslation</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#b72234d38ef7682c70ba82b09cbc4968"><span class="id" title="variable">ΣE</span></a> (<span class="id" title="constructor">IndRef</span> (<span class="id" title="constructor">mkInd</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#kn:164"><span class="id" title="variable">kn</span></a> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#p:161"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Translations.translation_utils.html#emptyTC"><span class="id" title="definition">emptyTC</span></a>).<br/>

<br/>
</div>

<div class="doc">
the cases could be all in one and the command with 
  distinction on references/other terms could be a Template command
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="getIdentKername'" class="idref" href="#getIdentKername'"><span class="id" title="definition">getIdentKername'</span></a> (<a id="t:167" class="idref" href="#t:167"><span class="id" title="binder">t</span></a>:<span class="id" title="inductive">term</span>)  : <span class="id" title="inductive">TemplateMonad</span> <span class="id" title="definition">kername</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmReturn</span> <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:167"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;</div>

<div class="doc">
handle all cases in one 
</div>
<div class="code">
&nbsp;&nbsp;| <span class="id" title="constructor">tInd</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kername</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tConst</span> <span class="id" title="var">kername</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tConstruct</span> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kername</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">kername</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="constructor">MPfile</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>""<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> </div>

<div class="doc">
dummy value 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="getIdentKername" class="idref" href="#getIdentKername"><span class="id" title="definition">getIdentKername</span></a> {<a id="A:169" class="idref" href="#A:169"><span class="id" title="binder">A</span></a>} (<a id="t:170" class="idref" href="#t:170"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:169"><span class="id" title="variable">A</span></a>)  : <span class="id" title="inductive">TemplateMonad</span> <span class="id" title="definition">kername</span> :=<br/>
&nbsp;&nbsp;<a id="q:171" class="idref" href="#q:171"><span class="id" title="binder">q</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmQuote</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:170"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#getIdentKername'"><span class="id" title="definition">getIdentKername'</span></a> (<a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#q:171"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">is</span></a> <span class="id" title="constructor">tApp</span> <a id="q':172" class="idref" href="#q':172"><span class="id" title="binder">q'</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#q':172"><span class="id" title="variable">q'</span></a> <a class="idref" href="MetaCoq.Translations.param_unary.html#:::'if'_x_'is'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#q:171"><span class="id" title="variable">q</span></a>).<br/>

<br/>
</div>

<div class="doc">
gets the local identifier (short name) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="getIdent" class="idref" href="#getIdent"><span class="id" title="definition">getIdent</span></a> {<a id="A:173" class="idref" href="#A:173"><span class="id" title="binder">A</span></a>} (<a id="t:174" class="idref" href="#t:174"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:173"><span class="id" title="variable">A</span></a>)  : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a id="kername:175" class="idref" href="#kername:175"><span class="id" title="binder">kername</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#getIdentKername"><span class="id" title="definition">getIdentKername</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:174"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmReturn</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#kername:175"><span class="id" title="variable">kername</span></a>).<br/>

<br/>
</div>

<div class="doc">
full mod path and identifier (separated by '.') 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="getIdentComplete" class="idref" href="#getIdentComplete"><span class="id" title="definition">getIdentComplete</span></a> {<a id="A:176" class="idref" href="#A:176"><span class="id" title="binder">A</span></a>} (<a id="t:177" class="idref" href="#t:177"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:176"><span class="id" title="variable">A</span></a>)  : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a id="kername:178" class="idref" href="#kername:178"><span class="id" title="binder">kername</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#getIdentKername"><span class="id" title="definition">getIdentKername</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:177"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmReturn</span> (<span class="id" title="definition">string_of_kername</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#kername:178"><span class="id" title="variable">kername</span></a>).<br/>

<br/>
</div>

<div class="doc">
retrieves a reference from a coq term of a definition 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="tmLookup" class="idref" href="#tmLookup"><span class="id" title="definition">tmLookup</span></a> {<a id="A:179" class="idref" href="#A:179"><span class="id" title="binder">A</span></a>} (<a id="t:180" class="idref" href="#t:180"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:179"><span class="id" title="variable">A</span></a>) : <span class="id" title="inductive">TemplateMonad</span> <span class="id" title="inductive">global_reference</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#getIdentComplete"><span class="id" title="definition">getIdentComplete</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:180"><span class="id" title="variable">t</span></a> <span class="id" title="notation">&gt;&gt;=</span> <span class="id" title="definition">tmLocate1</span>.<br/>

<br/>
</div>

<div class="doc">
generates a table with all translations possibly needed for lookup 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="persistentExistsTranslate" class="idref" href="#persistentExistsTranslate"><span class="id" title="definition">persistentExistsTranslate</span></a> {<a id="A:181" class="idref" href="#A:181"><span class="id" title="binder">A</span></a>} (<a id="t:182" class="idref" href="#t:182"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:181"><span class="id" title="variable">A</span></a>) : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_context"><span class="id" title="definition">tsl_context</span></a> :=<br/>
&nbsp;&nbsp;<a id="tc:183" class="idref" href="#tc:183"><span class="id" title="binder">tc</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#ConstructExistsTable"><span class="id" title="definition">ConstructExistsTable</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:182"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span> </div>

<div class="doc">
get table 
</div>
<div class="code">
&nbsp;&nbsp;<a id="id:184" class="idref" href="#id:184"><span class="id" title="binder">id</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#getIdentComplete"><span class="id" title="definition">getIdentComplete</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:182"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a id="idname:185" class="idref" href="#idname:185"><span class="id" title="binder">idname</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#getIdent"><span class="id" title="definition">getIdent</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:182"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmMsg</span> ("Complete Identifier: "<span class="id" title="notation">^</span><a class="idref" href="MetaCoq.Translations.param_exists.html#id:184"><span class="id" title="variable">id</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmMsg</span> ("Short Identifier: "<span class="id" title="notation">^</span><a class="idref" href="MetaCoq.Translations.param_exists.html#idname:185"><span class="id" title="variable">idname</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a id="tc':186" class="idref" href="#tc':186"><span class="id" title="binder">tc'</span></a> <span class="id" title="notation">&lt;-</span> (@<a class="idref" href="MetaCoq.Translations.translation_utils.html#Translate"><span class="id" title="definition">Translate</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#existparam"><span class="id" title="instance">existparam</span></a>) <a class="idref" href="MetaCoq.Translations.param_exists.html#tc:183"><span class="id" title="variable">tc</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#id:184"><span class="id" title="variable">id</span></a><span class="id" title="notation">;;</span> </div>

<div class="doc">
translate new definition 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<a id="gr:187" class="idref" href="#gr:187"><span class="id" title="binder">gr</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#tmLookup"><span class="id" title="definition">tmLookup</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:182"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;</div>

<div class="doc">
extend table 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="nameString:188" class="idref" href="#nameString:188"><span class="id" title="binder">nameString</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmEval</span> <span class="id" title="constructor">lazy</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Strings.String.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#idname:185"><span class="id" title="variable">idname</span></a> "_tableLookup")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="newName:189" class="idref" href="#newName:189"><span class="id" title="binder">newName</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmFreshName</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#nameString:188"><span class="id" title="variable">nameString</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#newName:189"><span class="id" title="variable">newName</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#content"><span class="id" title="method">content</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#tc':186"><span class="id" title="variable">tc'</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|} : <a class="idref" href="MetaCoq.Translations.param_exists.html#existtranslated"><span class="id" title="class">existtranslated</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#gr:187"><span class="id" title="variable">gr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;</div>

<div class="doc">
save new table for the translation definition t 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="constructor">tmExistingInstance</span> (<span class="id" title="constructor">VarRef</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#newName:189"><span class="id" title="variable">newName</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmReturn</span> <a class="idref" href="MetaCoq.Translations.param_exists.html#tc':186"><span class="id" title="variable">tc'</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="persistentTranslate" class="idref" href="#persistentTranslate"><span class="id" title="definition">persistentTranslate</span></a> {<a id="A:190" class="idref" href="#A:190"><span class="id" title="binder">A</span></a>} (<a id="t:191" class="idref" href="#t:191"><span class="id" title="binder">t</span></a>:<a class="idref" href="MetaCoq.Translations.param_exists.html#A:190"><span class="id" title="variable">A</span></a>) : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="MetaCoq.Translations.translation_utils.html#tsl_context"><span class="id" title="definition">tsl_context</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Translations.param_exists.html#persistentExistsTranslate"><span class="id" title="definition">persistentExistsTranslate</span></a> <a class="idref" href="MetaCoq.Translations.param_exists.html#t:191"><span class="id" title="variable">t</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
